<!-- Breadcrumb -->
<app-breadcrumb
  [pageTitle]="pageTitle"
  [breadcrumb]="breadcrumb"
></app-breadcrumb>

<!-- Create Product -->
<form>
  <div class="">
    <div
      class="trezo-card bg-white dark:bg-[#0c1427] mb-[25px] p-[20px] md:p-[25px] rounded-md"
    >
      <div class="trezo-card-content" [formGroup]="variantForm">
        <div class="sm:grid sm:grid-cols-2 sm:gap-[25px]">
          <div class="mb-[20px] sm:mb-0 sm:col-span-2">
            <label
              class="mb-[10px] text-black dark:text-white font-medium block"
            >
              Name
            </label>
            <input
              formControlName="name"
              type="text"
              class="h-[55px] rounded-md text-black dark:text-white border border-gray-200 dark:border-[#172036] bg-white dark:bg-[#0c1427] px-[17px] block w-full outline-0 transition-all placeholder:text-gray-500 dark:placeholder:text-gray-400 focus:border-primary-500"
              placeholder="E.g. Watch"
              [class.border-danger-500]="
                variantForm.get('name')?.invalid &&
                variantForm.get('name')?.touched
              "
            />
            <app-form-error
              class="mt-2"
              [control]="variantForm.get('name')!"
            ></app-form-error>
          </div>
          <div class="mb-[20px] sm:mb-0 sm:col-span-2">
            <label
              class="mb-[10px] text-black dark:text-white font-medium block"
            >
              Label
            </label>
            <input
              formControlName="label"
              type="text"
              class="h-[55px] rounded-md text-black dark:text-white border border-gray-200 dark:border-[#172036] bg-white dark:bg-[#0c1427] px-[17px] block w-full outline-0 transition-all placeholder:text-gray-500 dark:placeholder:text-gray-400 focus:border-primary-500"
              placeholder="E.g. Watch"
              [class.border-danger-500]="
                variantForm.get('label')?.invalid &&
                variantForm.get('label')?.touched
              "
            />
            <app-form-error
              class="mt-2"
              [control]="variantForm.get('label')!"
            ></app-form-error>
          </div>

          <div class="sm:col-span-2 mb-[20px] sm:mb-0">
            <label
              class="mb-[10px] text-black dark:text-white font-medium block"
            >
              Sizes
            </label>

            <div formArrayName="values" class="grid gap-4 sm:grid-cols-2">
              <div
                *ngFor="let sizeGroup of valuesControls; let i = index"
                [formGroupName]="i"
                class="flex gap-3 items-center"
              >
                <input
                  formControlName="label"
                  type="text"
                  class="h-[55px] rounded-md text-black dark:text-white border border-gray-200 dark:border-[#172036] bg-white dark:bg-[#0c1427] px-[17px] block w-full outline-0 transition-all placeholder:text-gray-500 dark:placeholder:text-gray-400 focus:border-primary-500"
                  placeholder="E.g. S, M, L"
                  [class.border-danger-500]="
                    sizeGroup.get('label')?.invalid &&
                    sizeGroup.get('label')?.touched
                  "
                />
                <button
                  type="button"
                  class="px-3 py-2 text-white rounded bg-danger-500 hover:bg-danger-400"
                  (click)="removeValue(i)"
                >
                  <i class="material-symbols-outlined">delete</i>
                </button>
              </div>
            </div>

            <button
              type="button"
              class="px-4 py-2 mt-4 text-white rounded bg-primary-500 hover:bg-primary-400"
              (click)="addValue()"
            >
              <i class="align-middle material-symbols-outlined">add</i> Add Size
            </button>
          </div>
        </div>
        <div class="mt-[20px] md:mt-[25px] ltr:text-right rtl:text-left">
          <button
            (click)="onNavigateBack()"
            class="rounded-md inline-block transition-all font-medium ltr:mr-[19px] rtl:ml-[19px] px-[26.5px] py-[12px] bg-danger-500 text-white hover:bg-danger-400"
          >
            Cancel
          </button>
          <button
            type="button"
            class="inline-block bg-primary-500 text-white py-[12px] px-[26.5px] transition-all rounded-md hover:bg-primary-400"
          >
            <span
              (click)="onSubmit()"
              class="inline-block relative ltr:pl-[25px] rtl:pr-[25px]"
            >
              <i
                class="material-symbols-outlined !text-[20px] absolute ltr:left-0 rtl:right-0 top-1/2 -translate-y-1/2"
              >
                add
              </i>
              Create
            </span>
          </button>
        </div>
      </div>
    </div>
  </div>
</form>
